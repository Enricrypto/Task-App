import{d as M,g as C,u as $,r as p,o as u,c,a as t,w as T,v as f,b as A,n as D,_ as I,i as g,t as v,e as b,f as H,s as S,h as U,j as B,k as N,l as w,m as x,p as j,F,q as L,x as P,y as q}from"./index.e8ca0b16.js";const h=M("task",{state:()=>({tasks:[]}),actions:{async setTask(){const a=await C();this.tasks=await a},updateTask(a,s){this.tasks.findIndex(n=>n.id===a)},deleteTask(a){const s=this.tasks.findIndex(n=>n.id===a);return this.tasks.splice(s,1)},async addTask(a){const s=await C();this.tasks=await s}},persist:{enabled:!0,strategies:[{key:"task",storage:localStorage}]}}),G={class:"mt-5"},O=["onSubmit"],R={class:"field"},z=t("label",{class:"label"},"Titulo",-1),J={class:"control"},K={class:"control"},Q=t("div",{class:"control"},[t("button",{type:"submit",class:"mt-2 button is-info"},"Enviar")],-1),W={__name:"AddTask",setup(a){const s=h(),n=$(),d=p(""),o=p(""),m=n.id;n.user.email;const i=async()=>{await D(m,o.value,d.value);const _={title:o.value,description:d.value,created_at:new Date};s.addTask(_),d.value="",o.value=""};return(_,r)=>(u(),c("div",G,[t("form",{onSubmit:A(i,["prevent"])},[t("div",R,[z,t("div",J,[T(t("input",{"onUpdate:modelValue":r[0]||(r[0]=y=>o.value=y),class:"input",type:"text",placeholder:"titulo"},null,512),[[f,o.value]])])]),t("div",K,[T(t("textarea",{"onUpdate:modelValue":r[1]||(r[1]=y=>d.value=y),class:"textarea",placeholder:"Escribe un post"},null,512),[[f,d.value]])]),Q],40,O)]))}};const X={key:0,class:"card-done"},Y={key:0},Z={key:1},tt={key:1,class:"card-edit"},st={__name:"Card",props:{task:Object},setup(a){const s=a,n=p(!1),d=()=>{n.value=!n.value};$();const o=h(),m=async k=>{o.setTask(),await H(k),o.deleteTask(k)};let i=p(""),_=p(""),r=p("");const y=async k=>{i=!0,await S(k,i),o.setTask()},E=async k=>{i=!1,await S(k,i),o.setTask()},V=async k=>{await U(k,_.value,r.value),o.setTask(),d()};return(k,e)=>(g(i)?i.value=!a.task.isCreated:i=!a.task.isCreated)?(u(),c("div",X,[n.value?(u(),c("div",Z,[T(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>g(_)?_.value=l:_=l),type:"text"},null,512),[[f,b(_)]]),T(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>g(r)?r.value=l:r=l)},null,512),[[f,b(r)]]),t("button",{onClick:e[5]||(e[5]=l=>V(s.task.id))},"Guardar"),t("button",{onClick:e[6]||(e[6]=l=>d(s.task.id))},"Cancel")])):(u(),c("div",Y,[t("div",null,v(s.task.title)+" - "+v(s.task.created_at),1),t("div",null,v(s.task.description),1),t("button",{onClick:e[0]||(e[0]=l=>m(s.task.id))},"Eliminar"),t("button",{onClick:e[1]||(e[1]=l=>y(s.task.id))},"Marcar como hecho"),t("button",{onClick:e[2]||(e[2]=l=>d(s.task.id))},"Editar")]))])):(u(),c("div",tt,[t("div",null,v(s.task.title)+" - "+v(s.task.created_at),1),t("div",null,v(s.task.description),1),t("button",{onClick:e[7]||(e[7]=l=>m(s.task.id))},"Eliminar"),t("button",{onClick:e[8]||(e[8]=l=>E(s.task.id))},"Deshacer")]))}},et=I(st,[["__scopeId","data-v-652d0fd8"]]);const at=a=>(P("data-v-03bbe527"),a=a(),q(),a),ot={class:"section"},nt={class:"container"},it={key:0,class:"message is-danger"},lt={class:"message-body"},dt=at(()=>t("br",null,null,-1)),rt={key:1},ut={class:"title"},ct={__name:"Home",setup(a){const s=$(),n=h();return p(""),B(()=>{n.setTask()}),(d,o)=>{const m=N("router-link");return u(),c("div",ot,[t("div",nt,[b(s).isAuth?(u(),c("div",rt,[t("div",ut," Hola "+v(b(s).user.email),1),t("button",{onClick:o[0]||(o[0]=i=>b(s).logout()),class:"button is-danger"},"Cerrar Sesi\xF3n"),t("div",null,[x(W)]),(u(!0),c(F,null,L(b(n).tasks,i=>(u(),c("div",{class:"section",key:i.id},[x(et,{task:i},null,8,["task"])]))),128))])):(u(),c("article",it,[t("div",lt,[w(" Iniciar sesion en la APP "),dt,x(m,{to:{name:"login"}},{default:j(()=>[w(" Ir a Login ")]),_:1})])]))])])}}},_t=I(ct,[["__scopeId","data-v-03bbe527"]]);export{_t as default};
