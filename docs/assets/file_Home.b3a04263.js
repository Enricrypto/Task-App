import{d as L,_ as w,u as S,r as k,o as l,c as _,a as s,w as T,v as $,b as q,p as A,e as M,f as g,i as V,t as y,g as b,h as n,j as B,k as N,n as z,F as D,l as J,m as O}from"./file_index.e0f76ca4.js";import{g as E,n as P,d as R,s as U,u as W}from"./file_index.800a97d0.js";const x=L("task",{state:()=>({tasks:[]}),actions:{async setTask(){const t=await E();this.tasks=await t},updateTask(t){this.tasks.filter(e=>e.id===t)},deleteTask(t){const e=this.tasks.findIndex(i=>i.id===t);return this.tasks.splice(e,1)},async addTask(t){const e=await E();this.tasks=await e}},persist:{enabled:!0,strategies:[{key:"task",storage:localStorage}]}});const H=t=>(A("data-v-95f4c3ad"),t=t(),M(),t),K={class:"new-post mt-5"},Q=["onSubmit"],X={class:"field"},Y=H(()=>s("label",{class:"label"},"New Post",-1)),Z={class:"control"},ss={class:"control"},ts=H(()=>s("div",{class:"control mt-3"},[s("button",{type:"submit",class:"mt-2 button is-info is-fullwidth"},"Send")],-1)),es={__name:"AddTask",setup(t){const e=x(),i=S(),a=k(""),r=k(""),h=i.id,f=async()=>{await P(h,r.value,a.value);const d={title:r.value,description:a.value,created_at:new Date};e.addTask(d),a.value="",r.value=""};return(d,u)=>(l(),_("div",K,[s("form",{class:"add-task",onSubmit:q(f,["prevent"]),to:{name:"home"}},[s("div",X,[Y,s("div",Z,[T(s("input",{"onUpdate:modelValue":u[0]||(u[0]=p=>r.value=p),class:"input",type:"text",placeholder:"Title"},null,512),[[$,r.value]])])]),s("div",ss,[T(s("textarea",{"onUpdate:modelValue":u[1]||(u[1]=p=>a.value=p),class:"textarea",placeholder:"Write your post"},null,512),[[$,a.value]])]),ts],40,Q)]))}},os=w(es,[["__scopeId","data-v-95f4c3ad"]]);const C=t=>(A("data-v-a9580594"),t=t(),M(),t),as={class:"card"},ns={key:0,class:"container"},is={key:0,class:"created-card"},ds={class:"media"},cs={class:"media-content"},ls={class:"title is-5"},_s={class:"card-content"},rs={class:"created-card buttons"},us={key:1},vs={class:"card-edit"},ks=C(()=>s("div",{class:"media"},[s("div",{class:"media-content"},[s("p",{class:"title is-4"},"Edit Note!")])],-1)),ps=["placeholder"],ms=C(()=>s("br",null,null,-1)),hs=["placeholder"],fs=C(()=>s("br",null,null,-1)),bs={class:"card-edit buttons"},ys={key:1,class:"carta"},Ts={class:"container"},$s={class:"media card-done"},gs=C(()=>s("div",null,[s("p",{class:"title is-4"},"Good Job!")],-1)),ws={class:"done-icon"},Ss={class:"card-done buttons"},xs={__name:"Card",props:{task:Object},setup(t){const e=t,i=k(!1),a=x(),r=S(),h=async v=>{a.setTask(),await R(v),a.deleteTask(v)};let f,d=k(""),u=k(""),p=k(f);const I=v=>{i.value=!i.value},j=async v=>{d=!0,await U(v,d),a.setTask()},F=async v=>{d=!1,await U(v,d),a.setTask()},G=async v=>{await W(v,u.value,p.value),console.log(await a.setTask()),I()};return(v,o)=>{const m=g("fa");return l(),_("div",as,[(V(d)?d.value=!t.task.isCreated:d=!t.task.isCreated)?(l(),_("div",ns,[i.value?(l(),_("div",us,[s("div",vs,[ks,T(s("input",{"onUpdate:modelValue":o[3]||(o[3]=c=>V(u)?u.value=c:u=c),type:"text",placeholder:e.task.title},null,8,ps),[[$,b(u)]]),ms,T(s("textarea",{"onUpdate:modelValue":o[4]||(o[4]=c=>V(p)?p.value=c:p=c),rows:"4",placeholder:e.task.description},null,8,hs),[[$,b(p)]]),fs,s("div",bs,[s("button",{onClick:o[5]||(o[5]=c=>G(e.task.id))},[n(m,{icon:"floppy-disk"})]),s("button",{onClick:o[6]||(o[6]=c=>I(e.task.id))},[n(m,{icon:"xmark"})])])])])):(l(),_("div",is,[s("div",ds,[s("div",cs,[s("p",ls,y(b(r).user.email),1)])]),s("div",_s,[s("div",null,y(e.task.title),1),s("div",null,y(e.task.description),1),s("time",null,y(e.task.created_at),1)]),s("div",rs,[s("button",{onClick:o[0]||(o[0]=c=>h(e.task.id))},[n(m,{icon:"trash"})]),s("button",{onClick:o[1]||(o[1]=c=>j(e.task.id))},[n(m,{icon:"check"})]),s("button",{onClick:o[2]||(o[2]=c=>I(e.task.id))},[n(m,{icon:"pen-to-square"})])])]))])):(l(),_("div",ys,[s("div",null,[s("div",Ts,[s("div",$s,[gs,s("div",ws,[n(m,{icon:"circle-check"})]),s("div",Ss,[s("button",{onClick:o[7]||(o[7]=c=>h(e.task.id))},[n(m,{icon:"trash"})]),s("button",{onClick:o[8]||(o[8]=c=>F(e.task.id))},[n(m,{icon:"rotate-left"})])])])])])]))])}}},Cs=w(xs,[["__scopeId","data-v-a9580594"]]);const Is={class:"cards"},Vs={class:"section"},Ns={class:"create-note"},As={class:"modal-content"},Ms={class:"section"},Es={class:"container"},Us={class:"columns is-multiline"},Bs={__name:"Task",setup(t){S();const e=x();k(""),B(()=>{e.setTask()});const i=k(!1),a=r=>{i.value=!i.value};return(r,h)=>{const f=g("fa");return l(),_("div",null,[s("div",Is,[s("div",Vs,[s("div",Ns,[s("button",{class:"add-message cards",onClick:a},[N("Create a Note "),n(f,{icon:"plus"})])])]),s("div",{class:z(["modal",{"is-active":i.value}])},[s("div",{onClick:a,class:"modal-background"}),s("div",As,[n(os)]),s("button",{onClick:a,class:"modal-close is-large","aria-label":"close"})],2)]),s("div",Ms,[s("div",Es,[s("div",Us,[(l(!0),_(D,null,J(b(e).tasks,d=>(l(),_("div",{class:"column is-12-mobile is-6-tablet is-4-desktop is-3-widescreen",key:d.id},[n(Cs,{task:d},null,8,["task"])]))),128))])])])])}}},Ds=w(Bs,[["__scopeId","data-v-6ae846ff"]]);const Hs=t=>(A("data-v-2c784ea0"),t=t(),M(),t),js={class:"home-container"},Fs={class:"login-post"},Gs={key:0,class:"login"},Ls={class:"message is-danger"},qs={class:"message-body"},zs=Hs(()=>s("br",null,null,-1)),Js={key:1},Os={__name:"Home",setup(t){const e=S(),i=x();return k(""),B(()=>{i.setTask()}),k(!1),(a,r)=>{const h=g("router-link"),f=g("router-view");return l(),_(D,null,[s("div",js,[s("section",Fs,[b(e).isAuth?(l(),_("div",Js,[n(Ds)])):(l(),_("div",Gs,[s("div",Ls,[s("div",qs,[N(" Start your session "),zs,n(h,{to:{name:"login"}},{default:O(()=>[N(" Go to Login ")]),_:1})])])]))])]),n(f)],64)}}},Ws=w(Os,[["__scopeId","data-v-2c784ea0"]]);export{Ws as default};
