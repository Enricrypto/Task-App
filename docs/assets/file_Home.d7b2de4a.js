import{d as G,_ as I,u as V,r as m,o as _,c as u,a as s,w as $,v as S,b as L,p as N,e as A,f as w,i as x,t as T,g as f,h as n,j as q,k as C,l as z,n as J,F as E,m as O}from"./file_index.723880ee.js";import{g as U,n as P,d as R,s as B,u as W}from"./file_index.b3a2181b.js";const M=G("task",{state:()=>({tasks:[]}),actions:{async setTask(){const t=await U();this.tasks=await t},updateTask(t){this.tasks.filter(e=>e.id===t)},deleteTask(t){const e=this.tasks.findIndex(k=>k.id===t);return this.tasks.splice(e,1)},async addTask(t){const e=await U();this.tasks=await e}},persist:{enabled:!0,strategies:[{key:"task",storage:localStorage}]}});const D=t=>(N("data-v-fb6d2a80"),t=t(),A(),t),K={class:"new-post mt-5"},Q=["onSubmit"],X={class:"field"},Y=D(()=>s("label",{class:"label"},"New Post",-1)),Z={class:"control"},ss={class:"control"},ts=D(()=>s("div",{class:"control mt-3"},[s("button",{type:"submit",class:"mt-2 button is-info is-fullwidth"},"Send")],-1)),es={__name:"AddTask",setup(t){const e=M(),k=V(),a=m(""),c=m(""),h=k.id,g=async()=>{await P(h,c.value,a.value);const i={title:c.value,description:a.value,created_at:new Date};e.addTask(i),a.value="",c.value=""};return(i,d)=>(_(),u("div",K,[s("form",{class:"add-task",onSubmit:L(g,["prevent"]),to:{name:"home"}},[s("div",X,[Y,s("div",Z,[$(s("input",{"onUpdate:modelValue":d[0]||(d[0]=r=>c.value=r),class:"input",type:"text",placeholder:"Title"},null,512),[[S,c.value]])])]),s("div",ss,[$(s("textarea",{"onUpdate:modelValue":d[1]||(d[1]=r=>a.value=r),class:"textarea",placeholder:"Write your post"},null,512),[[S,a.value]])]),ts],40,Q)]))}},os=I(es,[["__scopeId","data-v-fb6d2a80"]]);const y=t=>(N("data-v-2fe107ac"),t=t(),A(),t),as={class:"card"},ns={key:0,class:"container"},is={key:0,class:"created-card"},ds={class:"media"},ls={class:"media-content"},cs={class:"title is-5"},rs={class:"props"},_s={class:"created-card buttons"},us={key:1},ks={class:"card-edit"},vs=y(()=>s("div",{class:"media"},[s("div",{class:"media-content"},[s("p",{class:"title is-4"},"Edit Note!")])],-1)),ps=["placeholder"],ms=y(()=>s("br",null,null,-1)),hs=["placeholder"],bs=y(()=>s("br",null,null,-1)),fs={class:"card-edit buttons"},ys={key:1,class:"card-done"},gs={class:"media"},Ts=y(()=>s("div",{class:"media-content"},[s("p",{class:"title is-4"},"Good Job!")],-1)),ws=y(()=>s("br",null,null,-1)),$s={class:"done-icon"},Ss={class:"card-done buttons"},xs={__name:"Card",props:{task:Object},setup(t){const e=t,k=m(!1),a=M(),c=V(),h=async v=>{a.setTask(),await R(v),a.deleteTask(v)};let g,i=m(""),d=m(""),r=m(g);const b=v=>{k.value=!k.value},H=async v=>{i=!0,await B(v,i),a.setTask()},j=async v=>{i=!1,await B(v,i),a.setTask()},F=async v=>{await W(v,d.value,r.value),console.log(await a.setTask()),b()};return(v,o)=>{const p=w("fa");return _(),u("div",as,[(x(i)?i.value=!t.task.isCreated:i=!t.task.isCreated)?(_(),u("div",ns,[k.value?(_(),u("div",us,[s("div",ks,[vs,$(s("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>x(d)?d.value=l:d=l),type:"text",placeholder:e.task.title},null,8,ps),[[S,f(d)]]),ms,$(s("textarea",{"onUpdate:modelValue":o[4]||(o[4]=l=>x(r)?r.value=l:r=l),rows:"4",placeholder:e.task.description},null,8,hs),[[S,f(r)]]),bs,s("div",fs,[s("button",{onClick:o[5]||(o[5]=l=>F(e.task.id))},[n(p,{icon:"floppy-disk"})]),s("button",{onClick:o[6]||(o[6]=l=>b(e.task.id))},[n(p,{icon:"xmark"})])])])])):(_(),u("div",is,[s("div",ds,[s("div",ls,[s("p",cs,T(f(c).user.email),1)])]),s("div",rs,[s("div",null,T(e.task.title),1),s("div",null,T(e.task.description),1),s("time",null,T(e.task.created_at),1)]),s("div",_s,[s("button",{onClick:o[0]||(o[0]=l=>h(e.task.id))},[n(p,{icon:"trash"})]),s("button",{onClick:o[1]||(o[1]=l=>H(e.task.id))},[n(p,{icon:"check"})]),s("button",{onClick:o[2]||(o[2]=l=>b(e.task.id))},[n(p,{icon:"pen-to-square"})])])]))])):(_(),u("div",ys,[s("div",gs,[Ts,ws,s("div",$s,[n(p,{icon:"circle-check"})])]),s("div",Ss,[s("button",{onClick:o[7]||(o[7]=l=>h(e.task.id))},[n(p,{icon:"trash"})]),s("button",{onClick:o[8]||(o[8]=l=>j(e.task.id))},[n(p,{icon:"rotate-left"})])])]))])}}},Cs=I(xs,[["__scopeId","data-v-2fe107ac"]]);const Is=t=>(N("data-v-b7e6f532"),t=t(),A(),t),Vs={class:"home-container"},Ns={class:"login-post"},As={key:0,class:"login"},Ms={class:"message is-danger"},Es={class:"message-body"},Us=Is(()=>s("br",null,null,-1)),Bs={key:1,class:"columns is-multiline is-centered is-mobile"},Ds={class:"modal-content"},Hs={class:"columns is-multiline is-centered is-mobile"},js={__name:"Home",setup(t){const e=V(),k=M();m(""),q(()=>{k.setTask()});const a=m(!1),c=h=>{a.value=!a.value};return(h,g)=>{const i=w("router-link"),d=w("fa"),r=w("router-view");return _(),u(E,null,[s("div",Vs,[s("section",Ns,[f(e).isAuth?(_(),u("div",Bs,[s("button",{class:"add-message",onClick:c},[C("Create a Note "),n(d,{icon:"plus"})]),s("div",{class:J(["modal",{"is-active":a.value}])},[s("div",{onClick:c,class:"modal-background"}),s("div",Ds,[n(os)]),s("button",{onClick:c,class:"modal-close is-large","aria-label":"close"})],2),s("div",Hs,[(_(!0),u(E,null,O(f(k).tasks,b=>(_(),u("div",{class:"cards column is-12-mobile is-6-tablet is-6-desktop is-4-widescreen",key:b.id},[n(Cs,{task:b},null,8,["task"])]))),128))])])):(_(),u("div",As,[s("div",Ms,[s("div",Es,[C(" Start your session "),Us,n(i,{to:{name:"login"}},{default:z(()=>[C(" Go to Login ")]),_:1})])])]))])]),n(r)],64)}}},Ls=I(js,[["__scopeId","data-v-b7e6f532"]]);export{Ls as default};
